---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import { getCollection } from 'astro:content';
import { format } from 'date-fns';

const posts = await getCollection('blog', ({ data }) => {
	return import.meta.env.DEV || !data.draft;
});

posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Layout title="Kenny Igbechi">
	<Navigation />
	<main class="max-w-2xl mx-auto px-4 sm:px-6 pb-16">
		<section class="mt-8">
			<h1 class="text-2xl font-bold tracking-tight">Kenny Igbechi</h1>
			<p class="mt-4 text-zinc-600 dark:text-zinc-400">
				I work on datastores and distributed systems. Keeping large clusters from misbehaving, troubleshooting the ones that do, and lately, building AI agents to handle the incidents so I don't have to. Driven by a deep curiosity for how complex systems behave under pressure, mostly because they keep finding new ways to surprise me.
			</p>
		</section>

		<section class="mt-12">
			<h2 class="text-sm font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wide">Writing</h2>
			<ul class="mt-4 space-y-3">
				{posts.map(post => (
					<li class="flex flex-col sm:flex-row sm:items-baseline sm:space-x-4">
						<time datetime={post.data.pubDate.toISOString()} class="text-sm text-zinc-500 dark:text-zinc-400 tabular-nums shrink-0">
							{format(post.data.pubDate, 'MMM d, yyyy')}
						</time>
						<a href={`/blog/${post.slug}`} class="text-zinc-900 dark:text-zinc-100 underline decoration-zinc-300 dark:decoration-zinc-700 underline-offset-2 hover:decoration-zinc-500 dark:hover:decoration-zinc-400">
							{post.data.title}
						</a>
					</li>
				))}
			</ul>
		</section>

		<section class="mt-12">
			<h2 class="text-sm font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wide">Projects</h2>
			<ul class="mt-4 space-y-3">
				<li>
					<a href="https://github.com/kclaka/colander" class="text-zinc-900 dark:text-zinc-100 underline decoration-zinc-300 dark:decoration-zinc-700 underline-offset-2 hover:decoration-zinc-500 dark:hover:decoration-zinc-400">Colander</a>
					<span class="text-zinc-500 dark:text-zinc-400"> â€” A caching reverse proxy in Rust using the SIEVE eviction algorithm</span>
				</li>
			</ul>
		</section>

		<section class="mt-12">
			<h2 class="text-sm font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wide">Elsewhere</h2>
			<p class="mt-4 text-zinc-600 dark:text-zinc-400">
				<a href="https://github.com/kclaka" class="text-zinc-900 dark:text-zinc-100 underline decoration-zinc-300 dark:decoration-zinc-700 underline-offset-2 hover:decoration-zinc-500 dark:hover:decoration-zinc-400">GitHub</a>
				<span class="mx-2">&middot;</span>
				<a href="https://x.com/kennyclaka" class="text-zinc-900 dark:text-zinc-100 underline decoration-zinc-300 dark:decoration-zinc-700 underline-offset-2 hover:decoration-zinc-500 dark:hover:decoration-zinc-400">X</a>
				<span class="mx-2">&middot;</span>
				<a href="mailto:hello@kennyigbechi.com" class="text-zinc-900 dark:text-zinc-100 underline decoration-zinc-300 dark:decoration-zinc-700 underline-offset-2 hover:decoration-zinc-500 dark:hover:decoration-zinc-400">hello@kennyigbechi.com</a>
			</p>
		</section>
	</main>
</Layout>
